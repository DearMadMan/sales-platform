# 微信三级分销

**微信三级分销**是用于商家便捷接入微信的独立公众号管理系统、集成了微信商店系统。


## 功能需求

## 后台管理中心

### 订单管理

#### 订单列表

**订单列表** 展示商城订单信息，具有订单编辑功能：
- 可以修改订单状态 （付款、发货、取消）
- 可以放入回收站
- 具有分页功能

#### 订单回收站

#### 发货单列表

### 微信中心


#### 粉丝管理

**粉丝管理** 用于展示公众号下粉丝信息，展示如下信息：
- 昵称
- 头像
- 性别
- 关注状态 （有些用户可能取消了关注 但还在数据库中）

所需功能： 
- 关注时入库
- 取消关注时设置关注状态为false

#### 微信OAuth

**微信OAuth** 用于网页静默授权获取当前微信用户的信息

该功能其实是为了兼容多平台，比如说，微信端可以免登录（其实是程序自主识别后登录）， 而使用手机浏览器也可以手动登录。

需求：我们有时候会在微信菜单中导入链接到商城，而在商城中我们需要知道当前是哪位用户，这时候我们就需要静默授权与登录。 避免了用户名密码的登录方式。
也就是说，我么需要一个中转路由来做授权与登录及登录后跳转到目标地址.

功能分析： 管理员在网站后台填入要跳转的URL, 自动生成微信OAuth的链接， 用户填写OAuth的链接到微信菜单。

需求功能： 生成OAuth链接，在访问OAuth的链接之后进行静默授权并获取用户信息，登录，跳转到生成前的URL地址。

生成OAuth链接的时序：
- 填写URL
- 提交生成
- URL入库 返回 ID
- 返回生成后的完整授权链接